"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/bookings/[id]/route";
exports.ids = ["app/api/bookings/[id]/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

module.exports = require("http2");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("process");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "node:events":
/*!******************************!*\
  !*** external "node:events" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:events");

/***/ }),

/***/ "node:process":
/*!*******************************!*\
  !*** external "node:process" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("node:process");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbookings%2F%5Bid%5D%2Froute&page=%2Fapi%2Fbookings%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbookings%2F%5Bid%5D%2Froute.ts&appDir=D%3A%5Ctoh-project%5Cpoolvilla%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Ctoh-project%5Cpoolvilla&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbookings%2F%5Bid%5D%2Froute&page=%2Fapi%2Fbookings%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbookings%2F%5Bid%5D%2Froute.ts&appDir=D%3A%5Ctoh-project%5Cpoolvilla%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Ctoh-project%5Cpoolvilla&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_toh_project_poolvilla_src_app_api_bookings_id_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/bookings/[id]/route.ts */ \"(rsc)/./src/app/api/bookings/[id]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/bookings/[id]/route\",\n        pathname: \"/api/bookings/[id]\",\n        filename: \"route\",\n        bundlePath: \"app/api/bookings/[id]/route\"\n    },\n    resolvedPagePath: \"D:\\\\toh-project\\\\poolvilla\\\\src\\\\app\\\\api\\\\bookings\\\\[id]\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_toh_project_poolvilla_src_app_api_bookings_id_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/bookings/[id]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZib29raW5ncyUyRiU1QmlkJTVEJTJGcm91dGUmcGFnZT0lMkZhcGklMkZib29raW5ncyUyRiU1QmlkJTVEJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYm9va2luZ3MlMkYlNUJpZCU1RCUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDdG9oLXByb2plY3QlNUNwb29sdmlsbGElNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUQlM0ElNUN0b2gtcHJvamVjdCU1Q3Bvb2x2aWxsYSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDbUI7QUFDaEc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbmd0aG9uZy1wb29sdmlsbGEvPzQ0Y2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcdG9oLXByb2plY3RcXFxccG9vbHZpbGxhXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGJvb2tpbmdzXFxcXFtpZF1cXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2Jvb2tpbmdzL1tpZF0vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9ib29raW5ncy9baWRdXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9ib29raW5ncy9baWRdL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxcdG9oLXByb2plY3RcXFxccG9vbHZpbGxhXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGJvb2tpbmdzXFxcXFtpZF1cXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2Jvb2tpbmdzL1tpZF0vcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbookings%2F%5Bid%5D%2Froute&page=%2Fapi%2Fbookings%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbookings%2F%5Bid%5D%2Froute.ts&appDir=D%3A%5Ctoh-project%5Cpoolvilla%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Ctoh-project%5Cpoolvilla&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/bookings/[id]/route.ts":
/*!********************************************!*\
  !*** ./src/app/api/bookings/[id]/route.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PATCH: () => (/* binding */ PATCH)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_google_sheets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/google-sheets */ \"(rsc)/./src/lib/google-sheets.ts\");\n\n\n// GET /api/bookings/[id]\nasync function GET(request, { params }) {\n    try {\n        const booking = await (0,_lib_google_sheets__WEBPACK_IMPORTED_MODULE_1__.getBookingById)(params.id);\n        if (!booking) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Booking not found\"\n            }, {\n                status: 404\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(booking);\n    } catch (error) {\n        console.error(\"Failed to fetch booking:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch booking\"\n        }, {\n            status: 500\n        });\n    }\n}\n// PATCH /api/bookings/[id] - Update booking status\nasync function PATCH(request, { params }) {\n    try {\n        const body = await request.json();\n        const { status } = body;\n        const validStatuses = [\n            \"pending\",\n            \"confirmed\",\n            \"checked-in\",\n            \"completed\",\n            \"cancelled\"\n        ];\n        if (!status || !validStatuses.includes(status)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid status\"\n            }, {\n                status: 400\n            });\n        }\n        const updated = await (0,_lib_google_sheets__WEBPACK_IMPORTED_MODULE_1__.updateBookingStatus)(params.id, status);\n        if (!updated) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Booking not found\"\n            }, {\n                status: 404\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(updated);\n    } catch (error) {\n        console.error(\"Failed to update booking:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to update booking\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9ib29raW5ncy9baWRdL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBd0Q7QUFDa0I7QUFHMUUseUJBQXlCO0FBQ2xCLGVBQWVHLElBQ3BCQyxPQUFvQixFQUNwQixFQUFFQyxNQUFNLEVBQThCO0lBRXRDLElBQUk7UUFDRixNQUFNQyxVQUFVLE1BQU1MLGtFQUFjQSxDQUFDSSxPQUFPRSxFQUFFO1FBRTlDLElBQUksQ0FBQ0QsU0FBUztZQUNaLE9BQU9OLHFEQUFZQSxDQUFDUSxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBb0IsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQ3pFO1FBRUEsT0FBT1YscURBQVlBLENBQUNRLElBQUksQ0FBQ0Y7SUFDM0IsRUFBRSxPQUFPRyxPQUFPO1FBQ2RFLFFBQVFGLEtBQUssQ0FBQyw0QkFBNEJBO1FBQzFDLE9BQU9ULHFEQUFZQSxDQUFDUSxJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBMEIsR0FDbkM7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0Y7QUFFQSxtREFBbUQ7QUFDNUMsZUFBZUUsTUFDcEJSLE9BQW9CLEVBQ3BCLEVBQUVDLE1BQU0sRUFBOEI7SUFFdEMsSUFBSTtRQUNGLE1BQU1RLE9BQU8sTUFBTVQsUUFBUUksSUFBSTtRQUMvQixNQUFNLEVBQUVFLE1BQU0sRUFBRSxHQUFHRztRQUVuQixNQUFNQyxnQkFBaUM7WUFDckM7WUFDQTtZQUNBO1lBQ0E7WUFDQTtTQUNEO1FBRUQsSUFBSSxDQUFDSixVQUFVLENBQUNJLGNBQWNDLFFBQVEsQ0FBQ0wsU0FBUztZQUM5QyxPQUFPVixxREFBWUEsQ0FBQ1EsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQWlCLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUN0RTtRQUVBLE1BQU1NLFVBQVUsTUFBTWQsdUVBQW1CQSxDQUFDRyxPQUFPRSxFQUFFLEVBQUVHO1FBRXJELElBQUksQ0FBQ00sU0FBUztZQUNaLE9BQU9oQixxREFBWUEsQ0FBQ1EsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQW9CLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUN6RTtRQUVBLE9BQU9WLHFEQUFZQSxDQUFDUSxJQUFJLENBQUNRO0lBQzNCLEVBQUUsT0FBT1AsT0FBTztRQUNkRSxRQUFRRixLQUFLLENBQUMsNkJBQTZCQTtRQUMzQyxPQUFPVCxxREFBWUEsQ0FBQ1EsSUFBSSxDQUN0QjtZQUFFQyxPQUFPO1FBQTJCLEdBQ3BDO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYW5ndGhvbmctcG9vbHZpbGxhLy4vc3JjL2FwcC9hcGkvYm9va2luZ3MvW2lkXS9yb3V0ZS50cz9jNTJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuaW1wb3J0IHsgZ2V0Qm9va2luZ0J5SWQsIHVwZGF0ZUJvb2tpbmdTdGF0dXMgfSBmcm9tIFwiQC9saWIvZ29vZ2xlLXNoZWV0c1wiO1xyXG5pbXBvcnQgeyBCb29raW5nU3RhdHVzIH0gZnJvbSBcIkAvdHlwZXNcIjtcclxuXHJcbi8vIEdFVCAvYXBpL2Jvb2tpbmdzL1tpZF1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChcclxuICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcclxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfVxyXG4pIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYm9va2luZyA9IGF3YWl0IGdldEJvb2tpbmdCeUlkKHBhcmFtcy5pZCk7XHJcblxyXG4gICAgaWYgKCFib29raW5nKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIkJvb2tpbmcgbm90IGZvdW5kXCIgfSwgeyBzdGF0dXM6IDQwNCB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oYm9va2luZyk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggYm9va2luZzpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiBcIkZhaWxlZCB0byBmZXRjaCBib29raW5nXCIgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuLy8gUEFUQ0ggL2FwaS9ib29raW5ncy9baWRdIC0gVXBkYXRlIGJvb2tpbmcgc3RhdHVzXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQQVRDSChcclxuICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcclxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfVxyXG4pIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG4gICAgY29uc3QgeyBzdGF0dXMgfSA9IGJvZHk7XHJcblxyXG4gICAgY29uc3QgdmFsaWRTdGF0dXNlczogQm9va2luZ1N0YXR1c1tdID0gW1xyXG4gICAgICBcInBlbmRpbmdcIixcclxuICAgICAgXCJjb25maXJtZWRcIixcclxuICAgICAgXCJjaGVja2VkLWluXCIsXHJcbiAgICAgIFwiY29tcGxldGVkXCIsXHJcbiAgICAgIFwiY2FuY2VsbGVkXCIsXHJcbiAgICBdO1xyXG5cclxuICAgIGlmICghc3RhdHVzIHx8ICF2YWxpZFN0YXR1c2VzLmluY2x1ZGVzKHN0YXR1cykpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiSW52YWxpZCBzdGF0dXNcIiB9LCB7IHN0YXR1czogNDAwIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCB1cGRhdGVCb29raW5nU3RhdHVzKHBhcmFtcy5pZCwgc3RhdHVzKTtcclxuXHJcbiAgICBpZiAoIXVwZGF0ZWQpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiQm9va2luZyBub3QgZm91bmRcIiB9LCB7IHN0YXR1czogNDA0IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih1cGRhdGVkKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byB1cGRhdGUgYm9va2luZzpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiBcIkZhaWxlZCB0byB1cGRhdGUgYm9va2luZ1wiIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldEJvb2tpbmdCeUlkIiwidXBkYXRlQm9va2luZ1N0YXR1cyIsIkdFVCIsInJlcXVlc3QiLCJwYXJhbXMiLCJib29raW5nIiwiaWQiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJjb25zb2xlIiwiUEFUQ0giLCJib2R5IiwidmFsaWRTdGF0dXNlcyIsImluY2x1ZGVzIiwidXBkYXRlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/bookings/[id]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/google-sheets.ts":
/*!**********************************!*\
  !*** ./src/lib/google-sheets.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createBooking: () => (/* binding */ createBooking),\n/* harmony export */   getAllBookings: () => (/* binding */ getAllBookings),\n/* harmony export */   getBlockedDatesByVilla: () => (/* binding */ getBlockedDatesByVilla),\n/* harmony export */   getBookingById: () => (/* binding */ getBookingById),\n/* harmony export */   getBookingsByLineUserId: () => (/* binding */ getBookingsByLineUserId),\n/* harmony export */   getBookingsByVillaId: () => (/* binding */ getBookingsByVillaId),\n/* harmony export */   getDashboardStats: () => (/* binding */ getDashboardStats),\n/* harmony export */   updateBookingStatus: () => (/* binding */ updateBookingStatus)\n/* harmony export */ });\n/* harmony import */ var googleapis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! googleapis */ \"(rsc)/./node_modules/googleapis/build/src/index.js\");\n\n// Google Sheets Authentication - ใช้ Service Account\nfunction getAuthClient() {\n    const email = process.env.GOOGLE_SERVICE_ACCOUNT_EMAIL;\n    const privateKey = process.env.GOOGLE_PRIVATE_KEY?.replace(/\\\\n/g, \"\\n\");\n    if (!email || !privateKey) {\n        throw new Error(\"Missing Google Sheets credentials\");\n    }\n    return new googleapis__WEBPACK_IMPORTED_MODULE_0__.google.auth.JWT({\n        email,\n        key: privateKey,\n        scopes: [\n            \"https://www.googleapis.com/auth/spreadsheets\"\n        ]\n    });\n}\nconst SPREADSHEET_ID = process.env.GOOGLE_SPREADSHEET_ID;\nconst BOOKINGS_SHEET = \"Bookings\";\nconst VILLAS_SHEET = \"Villas\";\n// Column mapping for Bookings sheet (A-R)\nconst BOOKING_COLUMNS = {\n    id: 0,\n    villaId: 1,\n    guestName: 2,\n    guestPhone: 3,\n    guestEmail: 4,\n    lineUserId: 5,\n    lineDisplayName: 6,\n    linePictureUrl: 7,\n    checkIn: 8,\n    checkOut: 9,\n    nights: 10,\n    guests: 11,\n    totalPrice: 12,\n    status: 13,\n    notes: 14,\n    createdAt: 15,\n    updatedAt: 16\n};\n// Convert row array to Booking object\nfunction rowToBooking(row) {\n    return {\n        id: row[BOOKING_COLUMNS.id] || \"\",\n        villaId: row[BOOKING_COLUMNS.villaId] || \"\",\n        guestName: row[BOOKING_COLUMNS.guestName] || \"\",\n        guestPhone: row[BOOKING_COLUMNS.guestPhone] || \"\",\n        guestEmail: row[BOOKING_COLUMNS.guestEmail] || undefined,\n        lineUserId: row[BOOKING_COLUMNS.lineUserId] || \"\",\n        lineDisplayName: row[BOOKING_COLUMNS.lineDisplayName] || \"\",\n        linePictureUrl: row[BOOKING_COLUMNS.linePictureUrl] || undefined,\n        checkIn: row[BOOKING_COLUMNS.checkIn] || \"\",\n        checkOut: row[BOOKING_COLUMNS.checkOut] || \"\",\n        nights: parseInt(row[BOOKING_COLUMNS.nights]) || 0,\n        guests: parseInt(row[BOOKING_COLUMNS.guests]) || 0,\n        totalPrice: parseFloat(row[BOOKING_COLUMNS.totalPrice]) || 0,\n        status: row[BOOKING_COLUMNS.status] || \"pending\",\n        notes: row[BOOKING_COLUMNS.notes] || undefined,\n        createdAt: row[BOOKING_COLUMNS.createdAt] || \"\",\n        updatedAt: row[BOOKING_COLUMNS.updatedAt] || \"\"\n    };\n}\n// Convert Booking object to row array\nfunction bookingToRow(booking) {\n    const row = new Array(17).fill(\"\");\n    row[BOOKING_COLUMNS.id] = booking.id;\n    row[BOOKING_COLUMNS.villaId] = booking.villaId;\n    row[BOOKING_COLUMNS.guestName] = booking.guestName;\n    row[BOOKING_COLUMNS.guestPhone] = booking.guestPhone;\n    row[BOOKING_COLUMNS.guestEmail] = booking.guestEmail || \"\";\n    row[BOOKING_COLUMNS.lineUserId] = booking.lineUserId;\n    row[BOOKING_COLUMNS.lineDisplayName] = booking.lineDisplayName;\n    row[BOOKING_COLUMNS.linePictureUrl] = booking.linePictureUrl || \"\";\n    row[BOOKING_COLUMNS.checkIn] = booking.checkIn;\n    row[BOOKING_COLUMNS.checkOut] = booking.checkOut;\n    row[BOOKING_COLUMNS.nights] = booking.nights.toString();\n    row[BOOKING_COLUMNS.guests] = booking.guests.toString();\n    row[BOOKING_COLUMNS.totalPrice] = booking.totalPrice.toString();\n    row[BOOKING_COLUMNS.status] = booking.status;\n    row[BOOKING_COLUMNS.notes] = booking.notes || \"\";\n    row[BOOKING_COLUMNS.createdAt] = booking.createdAt;\n    row[BOOKING_COLUMNS.updatedAt] = booking.updatedAt;\n    return row;\n}\n// ===== API Functions =====\nasync function getAllBookings() {\n    const auth = getAuthClient();\n    const sheets = googleapis__WEBPACK_IMPORTED_MODULE_0__.google.sheets({\n        version: \"v4\",\n        auth\n    });\n    const response = await sheets.spreadsheets.values.get({\n        spreadsheetId: SPREADSHEET_ID,\n        range: `${BOOKINGS_SHEET}!A2:Q`\n    });\n    const rows = response.data.values || [];\n    return rows.map((row)=>rowToBooking(row));\n}\nasync function getBookingById(id) {\n    const bookings = await getAllBookings();\n    return bookings.find((b)=>b.id === id) || null;\n}\nasync function getBookingsByLineUserId(lineUserId) {\n    const bookings = await getAllBookings();\n    return bookings.filter((b)=>b.lineUserId === lineUserId);\n}\nasync function getBookingsByVillaId(villaId) {\n    const bookings = await getAllBookings();\n    return bookings.filter((b)=>b.villaId === villaId);\n}\nasync function createBooking(booking) {\n    const auth = getAuthClient();\n    const sheets = googleapis__WEBPACK_IMPORTED_MODULE_0__.google.sheets({\n        version: \"v4\",\n        auth\n    });\n    const row = bookingToRow(booking);\n    await sheets.spreadsheets.values.append({\n        spreadsheetId: SPREADSHEET_ID,\n        range: `${BOOKINGS_SHEET}!A:Q`,\n        valueInputOption: \"USER_ENTERED\",\n        requestBody: {\n            values: [\n                row\n            ]\n        }\n    });\n    return booking;\n}\nasync function updateBookingStatus(id, status) {\n    const auth = getAuthClient();\n    const sheets = googleapis__WEBPACK_IMPORTED_MODULE_0__.google.sheets({\n        version: \"v4\",\n        auth\n    });\n    // First get all bookings to find the row number\n    const response = await sheets.spreadsheets.values.get({\n        spreadsheetId: SPREADSHEET_ID,\n        range: `${BOOKINGS_SHEET}!A:Q`\n    });\n    const rows = response.data.values || [];\n    let rowIndex = -1;\n    for(let i = 1; i < rows.length; i++){\n        // Skip header\n        if (rows[i][BOOKING_COLUMNS.id] === id) {\n            rowIndex = i + 1; // 1-indexed for Sheets API\n            break;\n        }\n    }\n    if (rowIndex === -1) {\n        return null;\n    }\n    const now = new Date().toISOString();\n    // Update status (column N) and updatedAt (column Q)\n    await sheets.spreadsheets.values.batchUpdate({\n        spreadsheetId: SPREADSHEET_ID,\n        requestBody: {\n            valueInputOption: \"USER_ENTERED\",\n            data: [\n                {\n                    range: `${BOOKINGS_SHEET}!N${rowIndex}`,\n                    values: [\n                        [\n                            status\n                        ]\n                    ]\n                },\n                {\n                    range: `${BOOKINGS_SHEET}!Q${rowIndex}`,\n                    values: [\n                        [\n                            now\n                        ]\n                    ]\n                }\n            ]\n        }\n    });\n    return getBookingById(id);\n}\nasync function getDashboardStats() {\n    const bookings = await getAllBookings();\n    const today = new Date();\n    const todayStr = today.toISOString().split(\"T\")[0];\n    const monthYear = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, \"0\")}`;\n    const todayBookings = bookings.filter((b)=>b.checkIn === todayStr).length;\n    const monthlyBookings = bookings.filter((b)=>b.checkIn.startsWith(monthYear)).length;\n    const pendingBookings = bookings.filter((b)=>b.status === \"pending\").length;\n    const monthlyRevenue = bookings.filter((b)=>b.createdAt.startsWith(monthYear)).reduce((sum, b)=>sum + b.totalPrice, 0);\n    return {\n        todayBookings,\n        monthlyBookings,\n        pendingBookings,\n        monthlyRevenue\n    };\n}\n// ===== Helper to check blocked dates =====\nasync function getBlockedDatesByVilla(villaId) {\n    const bookings = await getBookingsByVillaId(villaId);\n    const blockedDates = [];\n    for (const booking of bookings){\n        if (booking.status === \"cancelled\" || booking.status === \"completed\") {\n            continue;\n        }\n        // Add all dates between checkIn and checkOut\n        const checkIn = new Date(booking.checkIn);\n        const checkOut = new Date(booking.checkOut);\n        for(let d = new Date(checkIn); d < checkOut; d.setDate(d.getDate() + 1)){\n            blockedDates.push(d.toISOString().split(\"T\")[0]);\n        }\n    }\n    return blockedDates;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFVO1FBQzlCLElBQUlqQixRQUFRVixNQUFNLEtBQUssZUFBZVUsUUFBUVYsTUFBTSxLQUFLLGFBQWE7WUFDcEU7UUFDRjtRQUVBLDZDQUE2QztRQUM3QyxNQUFNTCxVQUFVLElBQUkrQyxLQUFLaEMsUUFBUWYsT0FBTztRQUN4QyxNQUFNQyxXQUFXLElBQUk4QyxLQUFLaEMsUUFBUWQsUUFBUTtRQUUxQyxJQUFLLElBQUltRSxJQUFJLElBQUlyQixLQUFLL0MsVUFBVW9FLElBQUluRSxVQUFVbUUsRUFBRUMsT0FBTyxDQUFDRCxFQUFFRSxPQUFPLEtBQUssR0FBSTtZQUN4RUgsYUFBYUksSUFBSSxDQUFDSCxFQUFFcEIsV0FBVyxHQUFHSyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDakQ7SUFDRjtJQUVBLE9BQU9jO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbmd0aG9uZy1wb29sdmlsbGEvLi9zcmMvbGliL2dvb2dsZS1zaGVldHMudHM/MThjNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnb29nbGUgfSBmcm9tIFwiZ29vZ2xlYXBpc1wiO1xyXG5pbXBvcnQgeyBCb29raW5nLCBCb29raW5nU3RhdHVzIH0gZnJvbSBcIkAvdHlwZXNcIjtcclxuXHJcbi8vIEdvb2dsZSBTaGVldHMgQXV0aGVudGljYXRpb24gLSDguYPguIrguYkgU2VydmljZSBBY2NvdW50XHJcbmZ1bmN0aW9uIGdldEF1dGhDbGllbnQoKSB7XHJcbiAgY29uc3QgZW1haWwgPSBwcm9jZXNzLmVudi5HT09HTEVfU0VSVklDRV9BQ0NPVU5UX0VNQUlMO1xyXG4gIGNvbnN0IHByaXZhdGVLZXkgPSBwcm9jZXNzLmVudi5HT09HTEVfUFJJVkFURV9LRVk/LnJlcGxhY2UoL1xcXFxuL2csIFwiXFxuXCIpO1xyXG5cclxuICBpZiAoIWVtYWlsIHx8ICFwcml2YXRlS2V5KSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIEdvb2dsZSBTaGVldHMgY3JlZGVudGlhbHNcIik7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbmV3IGdvb2dsZS5hdXRoLkpXVCh7XHJcbiAgICBlbWFpbCxcclxuICAgIGtleTogcHJpdmF0ZUtleSxcclxuICAgIHNjb3BlczogW1wiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9zcHJlYWRzaGVldHNcIl0sXHJcbiAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IFNQUkVBRFNIRUVUX0lEID0gcHJvY2Vzcy5lbnYuR09PR0xFX1NQUkVBRFNIRUVUX0lEO1xyXG5jb25zdCBCT09LSU5HU19TSEVFVCA9IFwiQm9va2luZ3NcIjtcclxuY29uc3QgVklMTEFTX1NIRUVUID0gXCJWaWxsYXNcIjtcclxuXHJcbi8vIENvbHVtbiBtYXBwaW5nIGZvciBCb29raW5ncyBzaGVldCAoQS1SKVxyXG5jb25zdCBCT09LSU5HX0NPTFVNTlMgPSB7XHJcbiAgaWQ6IDAsXHJcbiAgdmlsbGFJZDogMSxcclxuICBndWVzdE5hbWU6IDIsXHJcbiAgZ3Vlc3RQaG9uZTogMyxcclxuICBndWVzdEVtYWlsOiA0LFxyXG4gIGxpbmVVc2VySWQ6IDUsXHJcbiAgbGluZURpc3BsYXlOYW1lOiA2LFxyXG4gIGxpbmVQaWN0dXJlVXJsOiA3LFxyXG4gIGNoZWNrSW46IDgsXHJcbiAgY2hlY2tPdXQ6IDksXHJcbiAgbmlnaHRzOiAxMCxcclxuICBndWVzdHM6IDExLFxyXG4gIHRvdGFsUHJpY2U6IDEyLFxyXG4gIHN0YXR1czogMTMsXHJcbiAgbm90ZXM6IDE0LFxyXG4gIGNyZWF0ZWRBdDogMTUsXHJcbiAgdXBkYXRlZEF0OiAxNixcclxufTtcclxuXHJcbi8vIENvbnZlcnQgcm93IGFycmF5IHRvIEJvb2tpbmcgb2JqZWN0XHJcbmZ1bmN0aW9uIHJvd1RvQm9va2luZyhyb3c6IHN0cmluZ1tdKTogQm9va2luZyB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGlkOiByb3dbQk9PS0lOR19DT0xVTU5TLmlkXSB8fCBcIlwiLFxyXG4gICAgdmlsbGFJZDogcm93W0JPT0tJTkdfQ09MVU1OUy52aWxsYUlkXSB8fCBcIlwiLFxyXG4gICAgZ3Vlc3ROYW1lOiByb3dbQk9PS0lOR19DT0xVTU5TLmd1ZXN0TmFtZV0gfHwgXCJcIixcclxuICAgIGd1ZXN0UGhvbmU6IHJvd1tCT09LSU5HX0NPTFVNTlMuZ3Vlc3RQaG9uZV0gfHwgXCJcIixcclxuICAgIGd1ZXN0RW1haWw6IHJvd1tCT09LSU5HX0NPTFVNTlMuZ3Vlc3RFbWFpbF0gfHwgdW5kZWZpbmVkLFxyXG4gICAgbGluZVVzZXJJZDogcm93W0JPT0tJTkdfQ09MVU1OUy5saW5lVXNlcklkXSB8fCBcIlwiLFxyXG4gICAgbGluZURpc3BsYXlOYW1lOiByb3dbQk9PS0lOR19DT0xVTU5TLmxpbmVEaXNwbGF5TmFtZV0gfHwgXCJcIixcclxuICAgIGxpbmVQaWN0dXJlVXJsOiByb3dbQk9PS0lOR19DT0xVTU5TLmxpbmVQaWN0dXJlVXJsXSB8fCB1bmRlZmluZWQsXHJcbiAgICBjaGVja0luOiByb3dbQk9PS0lOR19DT0xVTU5TLmNoZWNrSW5dIHx8IFwiXCIsXHJcbiAgICBjaGVja091dDogcm93W0JPT0tJTkdfQ09MVU1OUy5jaGVja091dF0gfHwgXCJcIixcclxuICAgIG5pZ2h0czogcGFyc2VJbnQocm93W0JPT0tJTkdfQ09MVU1OUy5uaWdodHNdKSB8fCAwLFxyXG4gICAgZ3Vlc3RzOiBwYXJzZUludChyb3dbQk9PS0lOR19DT0xVTU5TLmd1ZXN0c10pIHx8IDAsXHJcbiAgICB0b3RhbFByaWNlOiBwYXJzZUZsb2F0KHJvd1tCT09LSU5HX0NPTFVNTlMudG90YWxQcmljZV0pIHx8IDAsXHJcbiAgICBzdGF0dXM6IChyb3dbQk9PS0lOR19DT0xVTU5TLnN0YXR1c10gYXMgQm9va2luZ1N0YXR1cykgfHwgXCJwZW5kaW5nXCIsXHJcbiAgICBub3Rlczogcm93W0JPT0tJTkdfQ09MVU1OUy5ub3Rlc10gfHwgdW5kZWZpbmVkLFxyXG4gICAgY3JlYXRlZEF0OiByb3dbQk9PS0lOR19DT0xVTU5TLmNyZWF0ZWRBdF0gfHwgXCJcIixcclxuICAgIHVwZGF0ZWRBdDogcm93W0JPT0tJTkdfQ09MVU1OUy51cGRhdGVkQXRdIHx8IFwiXCIsXHJcbiAgfTtcclxufVxyXG5cclxuLy8gQ29udmVydCBCb29raW5nIG9iamVjdCB0byByb3cgYXJyYXlcclxuZnVuY3Rpb24gYm9va2luZ1RvUm93KGJvb2tpbmc6IEJvb2tpbmcpOiBzdHJpbmdbXSB7XHJcbiAgY29uc3Qgcm93OiBzdHJpbmdbXSA9IG5ldyBBcnJheSgxNykuZmlsbChcIlwiKTtcclxuICByb3dbQk9PS0lOR19DT0xVTU5TLmlkXSA9IGJvb2tpbmcuaWQ7XHJcbiAgcm93W0JPT0tJTkdfQ09MVU1OUy52aWxsYUlkXSA9IGJvb2tpbmcudmlsbGFJZDtcclxuICByb3dbQk9PS0lOR19DT0xVTU5TLmd1ZXN0TmFtZV0gPSBib29raW5nLmd1ZXN0TmFtZTtcclxuICByb3dbQk9PS0lOR19DT0xVTU5TLmd1ZXN0UGhvbmVdID0gYm9va2luZy5ndWVzdFBob25lO1xyXG4gIHJvd1tCT09LSU5HX0NPTFVNTlMuZ3Vlc3RFbWFpbF0gPSBib29raW5nLmd1ZXN0RW1haWwgfHwgXCJcIjtcclxuICByb3dbQk9PS0lOR19DT0xVTU5TLmxpbmVVc2VySWRdID0gYm9va2luZy5saW5lVXNlcklkO1xyXG4gIHJvd1tCT09LSU5HX0NPTFVNTlMubGluZURpc3BsYXlOYW1lXSA9IGJvb2tpbmcubGluZURpc3BsYXlOYW1lO1xyXG4gIHJvd1tCT09LSU5HX0NPTFVNTlMubGluZVBpY3R1cmVVcmxdID0gYm9va2luZy5saW5lUGljdHVyZVVybCB8fCBcIlwiO1xyXG4gIHJvd1tCT09LSU5HX0NPTFVNTlMuY2hlY2tJbl0gPSBib29raW5nLmNoZWNrSW47XHJcbiAgcm93W0JPT0tJTkdfQ09MVU1OUy5jaGVja091dF0gPSBib29raW5nLmNoZWNrT3V0O1xyXG4gIHJvd1tCT09LSU5HX0NPTFVNTlMubmlnaHRzXSA9IGJvb2tpbmcubmlnaHRzLnRvU3RyaW5nKCk7XHJcbiAgcm93W0JPT0tJTkdfQ09MVU1OUy5ndWVzdHNdID0gYm9va2luZy5ndWVzdHMudG9TdHJpbmcoKTtcclxuICByb3dbQk9PS0lOR19DT0xVTU5TLnRvdGFsUHJpY2VdID0gYm9va2luZy50b3RhbFByaWNlLnRvU3RyaW5nKCk7XHJcbiAgcm93W0JPT0tJTkdfQ09MVU1OUy5zdGF0dXNdID0gYm9va2luZy5zdGF0dXM7XHJcbiAgcm93W0JPT0tJTkdfQ09MVU1OUy5ub3Rlc10gPSBib29raW5nLm5vdGVzIHx8IFwiXCI7XHJcbiAgcm93W0JPT0tJTkdfQ09MVU1OUy5jcmVhdGVkQXRdID0gYm9va2luZy5jcmVhdGVkQXQ7XHJcbiAgcm93W0JPT0tJTkdfQ09MVU1OUy51cGRhdGVkQXRdID0gYm9va2luZy51cGRhdGVkQXQ7XHJcbiAgcmV0dXJuIHJvdztcclxufVxyXG5cclxuLy8gPT09PT0gQVBJIEZ1bmN0aW9ucyA9PT09PVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbEJvb2tpbmdzKCk6IFByb21pc2U8Qm9va2luZ1tdPiB7XHJcbiAgY29uc3QgYXV0aCA9IGdldEF1dGhDbGllbnQoKTtcclxuICBjb25zdCBzaGVldHMgPSBnb29nbGUuc2hlZXRzKHsgdmVyc2lvbjogXCJ2NFwiLCBhdXRoIH0pO1xyXG5cclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNoZWV0cy5zcHJlYWRzaGVldHMudmFsdWVzLmdldCh7XHJcbiAgICBzcHJlYWRzaGVldElkOiBTUFJFQURTSEVFVF9JRCxcclxuICAgIHJhbmdlOiBgJHtCT09LSU5HU19TSEVFVH0hQTI6UWAsIC8vIFNraXAgaGVhZGVyIHJvd1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCByb3dzID0gcmVzcG9uc2UuZGF0YS52YWx1ZXMgfHwgW107XHJcbiAgcmV0dXJuIHJvd3MubWFwKChyb3cpID0+IHJvd1RvQm9va2luZyhyb3cgYXMgc3RyaW5nW10pKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEJvb2tpbmdCeUlkKGlkOiBzdHJpbmcpOiBQcm9taXNlPEJvb2tpbmcgfCBudWxsPiB7XHJcbiAgY29uc3QgYm9va2luZ3MgPSBhd2FpdCBnZXRBbGxCb29raW5ncygpO1xyXG4gIHJldHVybiBib29raW5ncy5maW5kKChiKSA9PiBiLmlkID09PSBpZCkgfHwgbnVsbDtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEJvb2tpbmdzQnlMaW5lVXNlcklkKFxyXG4gIGxpbmVVc2VySWQ6IHN0cmluZ1xyXG4pOiBQcm9taXNlPEJvb2tpbmdbXT4ge1xyXG4gIGNvbnN0IGJvb2tpbmdzID0gYXdhaXQgZ2V0QWxsQm9va2luZ3MoKTtcclxuICByZXR1cm4gYm9va2luZ3MuZmlsdGVyKChiKSA9PiBiLmxpbmVVc2VySWQgPT09IGxpbmVVc2VySWQpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Qm9va2luZ3NCeVZpbGxhSWQodmlsbGFJZDogc3RyaW5nKTogUHJvbWlzZTxCb29raW5nW10+IHtcclxuICBjb25zdCBib29raW5ncyA9IGF3YWl0IGdldEFsbEJvb2tpbmdzKCk7XHJcbiAgcmV0dXJuIGJvb2tpbmdzLmZpbHRlcigoYikgPT4gYi52aWxsYUlkID09PSB2aWxsYUlkKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUJvb2tpbmcoYm9va2luZzogQm9va2luZyk6IFByb21pc2U8Qm9va2luZz4ge1xyXG4gIGNvbnN0IGF1dGggPSBnZXRBdXRoQ2xpZW50KCk7XHJcbiAgY29uc3Qgc2hlZXRzID0gZ29vZ2xlLnNoZWV0cyh7IHZlcnNpb246IFwidjRcIiwgYXV0aCB9KTtcclxuXHJcbiAgY29uc3Qgcm93ID0gYm9va2luZ1RvUm93KGJvb2tpbmcpO1xyXG5cclxuICBhd2FpdCBzaGVldHMuc3ByZWFkc2hlZXRzLnZhbHVlcy5hcHBlbmQoe1xyXG4gICAgc3ByZWFkc2hlZXRJZDogU1BSRUFEU0hFRVRfSUQsXHJcbiAgICByYW5nZTogYCR7Qk9PS0lOR1NfU0hFRVR9IUE6UWAsXHJcbiAgICB2YWx1ZUlucHV0T3B0aW9uOiBcIlVTRVJfRU5URVJFRFwiLFxyXG4gICAgcmVxdWVzdEJvZHk6IHtcclxuICAgICAgdmFsdWVzOiBbcm93XSxcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBib29raW5nO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlQm9va2luZ1N0YXR1cyhcclxuICBpZDogc3RyaW5nLFxyXG4gIHN0YXR1czogQm9va2luZ1N0YXR1c1xyXG4pOiBQcm9taXNlPEJvb2tpbmcgfCBudWxsPiB7XHJcbiAgY29uc3QgYXV0aCA9IGdldEF1dGhDbGllbnQoKTtcclxuICBjb25zdCBzaGVldHMgPSBnb29nbGUuc2hlZXRzKHsgdmVyc2lvbjogXCJ2NFwiLCBhdXRoIH0pO1xyXG5cclxuICAvLyBGaXJzdCBnZXQgYWxsIGJvb2tpbmdzIHRvIGZpbmQgdGhlIHJvdyBudW1iZXJcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNoZWV0cy5zcHJlYWRzaGVldHMudmFsdWVzLmdldCh7XHJcbiAgICBzcHJlYWRzaGVldElkOiBTUFJFQURTSEVFVF9JRCxcclxuICAgIHJhbmdlOiBgJHtCT09LSU5HU19TSEVFVH0hQTpRYCxcclxuICB9KTtcclxuXHJcbiAgY29uc3Qgcm93cyA9IHJlc3BvbnNlLmRhdGEudmFsdWVzIHx8IFtdO1xyXG4gIGxldCByb3dJbmRleCA9IC0xO1xyXG5cclxuICBmb3IgKGxldCBpID0gMTsgaSA8IHJvd3MubGVuZ3RoOyBpKyspIHtcclxuICAgIC8vIFNraXAgaGVhZGVyXHJcbiAgICBpZiAocm93c1tpXVtCT09LSU5HX0NPTFVNTlMuaWRdID09PSBpZCkge1xyXG4gICAgICByb3dJbmRleCA9IGkgKyAxOyAvLyAxLWluZGV4ZWQgZm9yIFNoZWV0cyBBUElcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAocm93SW5kZXggPT09IC0xKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcclxuXHJcbiAgLy8gVXBkYXRlIHN0YXR1cyAoY29sdW1uIE4pIGFuZCB1cGRhdGVkQXQgKGNvbHVtbiBRKVxyXG4gIGF3YWl0IHNoZWV0cy5zcHJlYWRzaGVldHMudmFsdWVzLmJhdGNoVXBkYXRlKHtcclxuICAgIHNwcmVhZHNoZWV0SWQ6IFNQUkVBRFNIRUVUX0lELFxyXG4gICAgcmVxdWVzdEJvZHk6IHtcclxuICAgICAgdmFsdWVJbnB1dE9wdGlvbjogXCJVU0VSX0VOVEVSRURcIixcclxuICAgICAgZGF0YTogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIHJhbmdlOiBgJHtCT09LSU5HU19TSEVFVH0hTiR7cm93SW5kZXh9YCwgLy8gc3RhdHVzIGNvbHVtblxyXG4gICAgICAgICAgdmFsdWVzOiBbW3N0YXR1c11dLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgcmFuZ2U6IGAke0JPT0tJTkdTX1NIRUVUfSFRJHtyb3dJbmRleH1gLCAvLyB1cGRhdGVkQXQgY29sdW1uXHJcbiAgICAgICAgICB2YWx1ZXM6IFtbbm93XV0sXHJcbiAgICAgICAgfSxcclxuICAgICAgXSxcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBnZXRCb29raW5nQnlJZChpZCk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREYXNoYm9hcmRTdGF0cygpOiBQcm9taXNlPHtcclxuICB0b2RheUJvb2tpbmdzOiBudW1iZXI7XHJcbiAgbW9udGhseUJvb2tpbmdzOiBudW1iZXI7XHJcbiAgcGVuZGluZ0Jvb2tpbmdzOiBudW1iZXI7XHJcbiAgbW9udGhseVJldmVudWU6IG51bWJlcjtcclxufT4ge1xyXG4gIGNvbnN0IGJvb2tpbmdzID0gYXdhaXQgZ2V0QWxsQm9va2luZ3MoKTtcclxuICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XHJcbiAgY29uc3QgdG9kYXlTdHIgPSB0b2RheS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXTtcclxuICBjb25zdCBtb250aFllYXIgPSBgJHt0b2RheS5nZXRGdWxsWWVhcigpfS0ke1N0cmluZyh0b2RheS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpfWA7XHJcblxyXG4gIGNvbnN0IHRvZGF5Qm9va2luZ3MgPSBib29raW5ncy5maWx0ZXIoKGIpID0+IGIuY2hlY2tJbiA9PT0gdG9kYXlTdHIpLmxlbmd0aDtcclxuXHJcbiAgY29uc3QgbW9udGhseUJvb2tpbmdzID0gYm9va2luZ3MuZmlsdGVyKChiKSA9PlxyXG4gICAgYi5jaGVja0luLnN0YXJ0c1dpdGgobW9udGhZZWFyKVxyXG4gICkubGVuZ3RoO1xyXG5cclxuICBjb25zdCBwZW5kaW5nQm9va2luZ3MgPSBib29raW5ncy5maWx0ZXIoKGIpID0+IGIuc3RhdHVzID09PSBcInBlbmRpbmdcIikubGVuZ3RoO1xyXG5cclxuICBjb25zdCBtb250aGx5UmV2ZW51ZSA9IGJvb2tpbmdzXHJcbiAgICAuZmlsdGVyKChiKSA9PiBiLmNyZWF0ZWRBdC5zdGFydHNXaXRoKG1vbnRoWWVhcikpXHJcbiAgICAucmVkdWNlKChzdW0sIGIpID0+IHN1bSArIGIudG90YWxQcmljZSwgMCk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB0b2RheUJvb2tpbmdzLFxyXG4gICAgbW9udGhseUJvb2tpbmdzLFxyXG4gICAgcGVuZGluZ0Jvb2tpbmdzLFxyXG4gICAgbW9udGhseVJldmVudWUsXHJcbiAgfTtcclxufVxyXG5cclxuLy8gPT09PT0gSGVscGVyIHRvIGNoZWNrIGJsb2NrZWQgZGF0ZXMgPT09PT1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEJsb2NrZWREYXRlc0J5VmlsbGEoXHJcbiAgdmlsbGFJZDogc3RyaW5nXHJcbik6IFByb21pc2U8c3RyaW5nW10+IHtcclxuICBjb25zdCBib29raW5ncyA9IGF3YWl0IGdldEJvb2tpbmdzQnlWaWxsYUlkKHZpbGxhSWQpO1xyXG5cclxuICBjb25zdCBibG9ja2VkRGF0ZXM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gIGZvciAoY29uc3QgYm9va2luZyBvZiBib29raW5ncykge1xyXG4gICAgaWYgKGJvb2tpbmcuc3RhdHVzID09PSBcImNhbmNlbGxlZFwiIHx8IGJvb2tpbmcuc3RhdHVzID09PSBcImNvbXBsZXRlZFwiKSB7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZCBhbGwgZGF0ZXMgYmV0d2VlbiBjaGVja0luIGFuZCBjaGVja091dFxyXG4gICAgY29uc3QgY2hlY2tJbiA9IG5ldyBEYXRlKGJvb2tpbmcuY2hlY2tJbik7XHJcbiAgICBjb25zdCBjaGVja091dCA9IG5ldyBEYXRlKGJvb2tpbmcuY2hlY2tPdXQpO1xyXG5cclxuICAgIGZvciAobGV0IGQgPSBuZXcgRGF0ZShjaGVja0luKTsgZCA8IGNoZWNrT3V0OyBkLnNldERhdGUoZC5nZXREYXRlKCkgKyAxKSkge1xyXG4gICAgICBibG9ja2VkRGF0ZXMucHVzaChkLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBibG9ja2VkRGF0ZXM7XHJcbn1cclxuIl0sIm5hbWVzIjpbImdvb2dsZSIsImdldEF1dGhDbGllbnQiLCJlbWFpbCIsInByb2Nlc3MiLCJlbnYiLCJHT09HTEVfU0VSVklDRV9BQ0NPVU5UX0VNQUlMIiwicHJpdmF0ZUtleSIsIkdPT0dMRV9QUklWQVRFX0tFWSIsInJlcGxhY2UiLCJFcnJvciIsImF1dGgiLCJKV1QiLCJrZXkiLCJzY29wZXMiLCJTUFJFQURTSEVFVF9JRCIsIkdPT0dMRV9TUFJFQURTSEVFVF9JRCIsIkJPT0tJTkdTX1NIRUVUIiwiVklMTEFTX1NIRUVUIiwiQk9PS0lOR19DT0xVTU5TIiwiaWQiLCJ2aWxsYUlkIiwiZ3Vlc3ROYW1lIiwiZ3Vlc3RQaG9uZSIsImd1ZXN0RW1haWwiLCJsaW5lVXNlcklkIiwibGluZURpc3BsYXlOYW1lIiwibGluZVBpY3R1cmVVcmwiLCJjaGVja0luIiwiY2hlY2tPdXQiLCJuaWdodHMiLCJndWVzdHMiLCJ0b3RhbFByaWNlIiwic3RhdHVzIiwibm90ZXMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJyb3dUb0Jvb2tpbmciLCJyb3ciLCJ1bmRlZmluZWQiLCJwYXJzZUludCIsInBhcnNlRmxvYXQiLCJib29raW5nVG9Sb3ciLCJib29raW5nIiwiQXJyYXkiLCJmaWxsIiwidG9TdHJpbmciLCJnZXRBbGxCb29raW5ncyIsInNoZWV0cyIsInZlcnNpb24iLCJyZXNwb25zZSIsInNwcmVhZHNoZWV0cyIsInZhbHVlcyIsImdldCIsInNwcmVhZHNoZWV0SWQiLCJyYW5nZSIsInJvd3MiLCJkYXRhIiwibWFwIiwiZ2V0Qm9va2luZ0J5SWQiLCJib29raW5ncyIsImZpbmQiLCJiIiwiZ2V0Qm9va2luZ3NCeUxpbmVVc2VySWQiLCJmaWx0ZXIiLCJnZXRCb29raW5nc0J5VmlsbGFJZCIsImNyZWF0ZUJvb2tpbmciLCJhcHBlbmQiLCJ2YWx1ZUlucHV0T3B0aW9uIiwicmVxdWVzdEJvZHkiLCJ1cGRhdGVCb29raW5nU3RhdHVzIiwicm93SW5kZXgiLCJpIiwibGVuZ3RoIiwibm93IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiYmF0Y2hVcGRhdGUiLCJnZXREYXNoYm9hcmRTdGF0cyIsInRvZGF5IiwidG9kYXlTdHIiLCJzcGxpdCIsIm1vbnRoWWVhciIsImdldEZ1bGxZZWFyIiwiU3RyaW5nIiwiZ2V0TW9udGgiLCJwYWRTdGFydCIsInRvZGF5Qm9va2luZ3MiLCJtb250aGx5Qm9va2luZ3MiLCJzdGFydHNXaXRoIiwicGVuZGluZ0Jvb2tpbmdzIiwibW9udGhseVJldmVudWUiLCJyZWR1Y2UiLCJzdW0iLCJnZXRCbG9ja2VkRGF0ZXNCeVZpbGxhIiwiYmxvY2tlZERhdGVzIiwiZCIsInNldERhdGUiLCJnZXREYXRlIiwicHVzaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/google-sheets.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/googleapis","vendor-chunks/google-auth-library","vendor-chunks/tr46","vendor-chunks/bignumber.js","vendor-chunks/node-fetch","vendor-chunks/googleapis-common","vendor-chunks/whatwg-url","vendor-chunks/gaxios","vendor-chunks/qs","vendor-chunks/json-bigint","vendor-chunks/google-logging-utils","vendor-chunks/object-inspect","vendor-chunks/gcp-metadata","vendor-chunks/debug","vendor-chunks/get-intrinsic","vendor-chunks/https-proxy-agent","vendor-chunks/gtoken","vendor-chunks/uuid","vendor-chunks/agent-base","vendor-chunks/jws","vendor-chunks/jwa","vendor-chunks/url-template","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/webidl-conversions","vendor-chunks/base64-js","vendor-chunks/side-channel-list","vendor-chunks/extend","vendor-chunks/ms","vendor-chunks/supports-color","vendor-chunks/side-channel-weakmap","vendor-chunks/has-symbols","vendor-chunks/function-bind","vendor-chunks/side-channel-map","vendor-chunks/safe-buffer","vendor-chunks/side-channel","vendor-chunks/get-proto","vendor-chunks/call-bind-apply-helpers","vendor-chunks/buffer-equal-constant-time","vendor-chunks/dunder-proto","vendor-chunks/math-intrinsics","vendor-chunks/call-bound","vendor-chunks/is-stream","vendor-chunks/es-errors","vendor-chunks/has-flag","vendor-chunks/gopd","vendor-chunks/es-define-property","vendor-chunks/hasown","vendor-chunks/es-object-atoms"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbookings%2F%5Bid%5D%2Froute&page=%2Fapi%2Fbookings%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbookings%2F%5Bid%5D%2Froute.ts&appDir=D%3A%5Ctoh-project%5Cpoolvilla%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Ctoh-project%5Cpoolvilla&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();