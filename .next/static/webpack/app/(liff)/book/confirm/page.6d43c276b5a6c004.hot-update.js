"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(liff)/book/confirm/page",{

/***/ "(app-pages-browser)/./src/stores/booking-store.ts":
/*!*************************************!*\
  !*** ./src/stores/booking-store.ts ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useBookingStore: function() { return /* binding */ useBookingStore; }\n/* harmony export */ });\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zustand */ \"(app-pages-browser)/./node_modules/zustand/esm/react.mjs\");\n/* harmony import */ var _lib_mock_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/mock-data */ \"(app-pages-browser)/./src/lib/mock-data.ts\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./src/lib/utils.ts\");\n/* harmony import */ var _barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=format!=!date-fns */ \"(app-pages-browser)/./node_modules/date-fns/format.mjs\");\n\n\n\n\n// Helper to check if API is available (env vars are set)\nconst isApiAvailable = ()=>{\n    return \"object\" !== \"undefined\"; // Always try API in browser\n};\nconst useBookingStore = (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)((set, get)=>({\n        bookings: [],\n        selectedBooking: null,\n        isLoading: false,\n        error: null,\n        fetchBookings: async ()=>{\n            set({\n                isLoading: true,\n                error: null\n            });\n            try {\n                if (isApiAvailable()) {\n                    const res = await fetch(\"/api/bookings\");\n                    if (res.ok) {\n                        const data = await res.json();\n                        if (Array.isArray(data) && data.length > 0) {\n                            set({\n                                bookings: data,\n                                isLoading: false\n                            });\n                            return;\n                        }\n                    }\n                }\n                // Fallback to mock data\n                await new Promise((resolve)=>setTimeout(resolve, 300));\n                set({\n                    bookings: _lib_mock_data__WEBPACK_IMPORTED_MODULE_0__.mockBookings,\n                    isLoading: false\n                });\n            } catch (error) {\n                console.error(\"Fetch bookings error:\", error);\n                // Fallback to mock data on error\n                set({\n                    bookings: _lib_mock_data__WEBPACK_IMPORTED_MODULE_0__.mockBookings,\n                    isLoading: false\n                });\n            }\n        },\n        fetchBookingById: async (id)=>{\n            set({\n                isLoading: true,\n                error: null\n            });\n            try {\n                if (isApiAvailable()) {\n                    const res = await fetch(\"/api/bookings/\".concat(id));\n                    if (res.ok) {\n                        const booking = await res.json();\n                        if (booking.id) {\n                            set({\n                                selectedBooking: booking,\n                                isLoading: false\n                            });\n                            return booking;\n                        }\n                    }\n                }\n                // Fallback to mock data\n                await new Promise((resolve)=>setTimeout(resolve, 200));\n                const booking = _lib_mock_data__WEBPACK_IMPORTED_MODULE_0__.mockBookings.find((b)=>b.id === id) || null;\n                set({\n                    selectedBooking: booking,\n                    isLoading: false\n                });\n                return booking;\n            } catch (error) {\n                console.error(\"Fetch booking error:\", error);\n                const booking = _lib_mock_data__WEBPACK_IMPORTED_MODULE_0__.mockBookings.find((b)=>b.id === id) || null;\n                set({\n                    selectedBooking: booking,\n                    isLoading: false\n                });\n                return booking;\n            }\n        },\n        fetchBookingsByLineUserId: async (lineUserId)=>{\n            set({\n                isLoading: true,\n                error: null\n            });\n            try {\n                if (isApiAvailable()) {\n                    const res = await fetch(\"/api/bookings/user/\".concat(lineUserId));\n                    if (res.ok) {\n                        const data = await res.json();\n                        if (Array.isArray(data)) {\n                            set({\n                                isLoading: false\n                            });\n                            return data;\n                        }\n                    }\n                }\n                // Fallback to mock data\n                await new Promise((resolve)=>setTimeout(resolve, 200));\n                const userBookings = _lib_mock_data__WEBPACK_IMPORTED_MODULE_0__.mockBookings.filter((b)=>b.lineUserId === lineUserId);\n                set({\n                    isLoading: false\n                });\n                return userBookings;\n            } catch (error) {\n                console.error(\"Fetch user bookings error:\", error);\n                const userBookings = _lib_mock_data__WEBPACK_IMPORTED_MODULE_0__.mockBookings.filter((b)=>b.lineUserId === lineUserId);\n                set({\n                    isLoading: false\n                });\n                return userBookings;\n            }\n        },\n        createBooking: async (data, villaId, lineUserId, lineDisplayName, linePictureUrl)=>{\n            set({\n                isLoading: true,\n                error: null\n            });\n            try {\n                const villa = (0,_lib_mock_data__WEBPACK_IMPORTED_MODULE_0__.getVillaById)(villaId);\n                if (!villa) {\n                    throw new Error(\"Villa not found\");\n                }\n                const nights = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.calculateNights)(data.checkIn, data.checkOut);\n                const totalPrice = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.calculateTotalPrice)(nights, villa.pricePerNight);\n                const now = new Date().toISOString();\n                const bookingPayload = {\n                    villaId,\n                    guestName: data.guestName,\n                    guestPhone: data.guestPhone,\n                    guestEmail: data.guestEmail,\n                    checkIn: (0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_3__.format)(data.checkIn, \"yyyy-MM-dd\"),\n                    checkOut: (0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_3__.format)(data.checkOut, \"yyyy-MM-dd\"),\n                    guests: data.guests,\n                    notes: data.notes,\n                    lineUserId,\n                    lineDisplayName,\n                    linePictureUrl\n                };\n                if (isApiAvailable()) {\n                    try {\n                        const res = await fetch(\"/api/bookings\", {\n                            method: \"POST\",\n                            headers: {\n                                \"Content-Type\": \"application/json\"\n                            },\n                            body: JSON.stringify(bookingPayload)\n                        });\n                        if (res.ok) {\n                            const newBooking = await res.json();\n                            set((state)=>({\n                                    bookings: [\n                                        ...state.bookings,\n                                        newBooking\n                                    ],\n                                    selectedBooking: newBooking,\n                                    isLoading: false\n                                }));\n                            return newBooking;\n                        }\n                    } catch (apiError) {\n                        console.error(\"API create failed, using mock:\", apiError);\n                    }\n                }\n                // Fallback to local mock creation\n                await new Promise((resolve)=>setTimeout(resolve, 500));\n                const newBooking = {\n                    id: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.generateBookingId)(),\n                    villaId,\n                    guestName: data.guestName,\n                    guestPhone: data.guestPhone,\n                    guestEmail: data.guestEmail,\n                    lineUserId,\n                    lineDisplayName,\n                    linePictureUrl,\n                    checkIn: (0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_3__.format)(data.checkIn, \"yyyy-MM-dd\"),\n                    checkOut: (0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_3__.format)(data.checkOut, \"yyyy-MM-dd\"),\n                    nights,\n                    guests: data.guests,\n                    totalPrice,\n                    status: \"pending\",\n                    notes: data.notes,\n                    createdAt: now,\n                    updatedAt: now\n                };\n                set((state)=>({\n                        bookings: [\n                            ...state.bookings,\n                            newBooking\n                        ],\n                        selectedBooking: newBooking,\n                        isLoading: false\n                    }));\n                return newBooking;\n            } catch (error) {\n                set({\n                    error: error instanceof Error ? error.message : \"Failed to create booking\",\n                    isLoading: false\n                });\n                throw error;\n            }\n        },\n        updateBookingStatus: async (id, status)=>{\n            set({\n                isLoading: true,\n                error: null\n            });\n            try {\n                if (isApiAvailable()) {\n                    try {\n                        const res = await fetch(\"/api/bookings/\".concat(id), {\n                            method: \"PATCH\",\n                            headers: {\n                                \"Content-Type\": \"application/json\"\n                            },\n                            body: JSON.stringify({\n                                status\n                            })\n                        });\n                        if (res.ok) {\n                            const updated = await res.json();\n                            set((state)=>{\n                                var _state_selectedBooking;\n                                return {\n                                    bookings: state.bookings.map((b)=>b.id === id ? updated : b),\n                                    selectedBooking: ((_state_selectedBooking = state.selectedBooking) === null || _state_selectedBooking === void 0 ? void 0 : _state_selectedBooking.id) === id ? updated : state.selectedBooking,\n                                    isLoading: false\n                                };\n                            });\n                            return;\n                        }\n                    } catch (apiError) {\n                        console.error(\"API update failed, using mock:\", apiError);\n                    }\n                }\n                // Fallback to local mock update\n                await new Promise((resolve)=>setTimeout(resolve, 300));\n                set((state)=>{\n                    var _state_selectedBooking;\n                    return {\n                        bookings: state.bookings.map((b)=>b.id === id ? {\n                                ...b,\n                                status,\n                                updatedAt: new Date().toISOString()\n                            } : b),\n                        selectedBooking: ((_state_selectedBooking = state.selectedBooking) === null || _state_selectedBooking === void 0 ? void 0 : _state_selectedBooking.id) === id ? {\n                            ...state.selectedBooking,\n                            status,\n                            updatedAt: new Date().toISOString()\n                        } : state.selectedBooking,\n                        isLoading: false\n                    };\n                });\n            } catch (error) {\n                set({\n                    error: error instanceof Error ? error.message : \"Failed to update booking\",\n                    isLoading: false\n                });\n                throw error;\n            }\n        },\n        setSelectedBooking: (booking)=>{\n            set({\n                selectedBooking: booking\n            });\n        },\n        clearError: ()=>{\n            set({\n                error: null\n            });\n        }\n    }));\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9zdG9yZXMvYm9va2luZy1zdG9yZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFpQztBQUU0QjtBQUN5QjtBQUNwRDtBQUVsQyx5REFBeUQ7QUFDekQsTUFBTU8saUJBQWlCO0lBQ3JCLE9BQU8sYUFBa0IsYUFBYSw0QkFBNEI7QUFDcEU7QUF3Qk8sTUFBTUMsa0JBQWtCUiwrQ0FBTUEsQ0FBZSxDQUFDUyxLQUFLQyxNQUFTO1FBQ2pFQyxVQUFVLEVBQUU7UUFDWkMsaUJBQWlCO1FBQ2pCQyxXQUFXO1FBQ1hDLE9BQU87UUFFUEMsZUFBZTtZQUNiTixJQUFJO2dCQUFFSSxXQUFXO2dCQUFNQyxPQUFPO1lBQUs7WUFDbkMsSUFBSTtnQkFDRixJQUFJUCxrQkFBa0I7b0JBQ3BCLE1BQU1TLE1BQU0sTUFBTUMsTUFBTTtvQkFDeEIsSUFBSUQsSUFBSUUsRUFBRSxFQUFFO3dCQUNWLE1BQU1DLE9BQU8sTUFBTUgsSUFBSUksSUFBSTt3QkFDM0IsSUFBSUMsTUFBTUMsT0FBTyxDQUFDSCxTQUFTQSxLQUFLSSxNQUFNLEdBQUcsR0FBRzs0QkFDMUNkLElBQUk7Z0NBQUVFLFVBQVVRO2dDQUFNTixXQUFXOzRCQUFNOzRCQUN2Qzt3QkFDRjtvQkFDRjtnQkFDRjtnQkFDQSx3QkFBd0I7Z0JBQ3hCLE1BQU0sSUFBSVcsUUFBUSxDQUFDQyxVQUFZQyxXQUFXRCxTQUFTO2dCQUNuRGhCLElBQUk7b0JBQUVFLFVBQVVWLHdEQUFZQTtvQkFBRVksV0FBVztnQkFBTTtZQUNqRCxFQUFFLE9BQU9DLE9BQU87Z0JBQ2RhLFFBQVFiLEtBQUssQ0FBQyx5QkFBeUJBO2dCQUN2QyxpQ0FBaUM7Z0JBQ2pDTCxJQUFJO29CQUFFRSxVQUFVVix3REFBWUE7b0JBQUVZLFdBQVc7Z0JBQU07WUFDakQ7UUFDRjtRQUVBZSxrQkFBa0IsT0FBT0M7WUFDdkJwQixJQUFJO2dCQUFFSSxXQUFXO2dCQUFNQyxPQUFPO1lBQUs7WUFDbkMsSUFBSTtnQkFD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QUssQ0FBQyxrQ0FBa0NrRDtvQkFDbEQ7Z0JBQ0Y7Z0JBRUEsZ0NBQWdDO2dCQUNoQyxNQUFNLElBQUl4QyxRQUFRLENBQUNDLFVBQVlDLFdBQVdELFNBQVM7Z0JBRW5EaEIsSUFBSSxDQUFDc0Q7d0JBT0RBOzJCQVBZO3dCQUNkcEQsVUFBVW9ELE1BQU1wRCxRQUFRLENBQUM0RCxHQUFHLENBQUMsQ0FBQ3ZDLElBQzVCQSxFQUFFSCxFQUFFLEtBQUtBLEtBQ0w7Z0NBQUUsR0FBR0csQ0FBQztnQ0FBRWlDO2dDQUFRRSxXQUFXLElBQUlsQixPQUFPQyxXQUFXOzRCQUFHLElBQ3BEbEI7d0JBRU5wQixpQkFDRW1ELEVBQUFBLHlCQUFBQSxNQUFNbkQsZUFBZSxjQUFyQm1ELDZDQUFBQSx1QkFBdUJsQyxFQUFFLE1BQUtBLEtBQzFCOzRCQUFFLEdBQUdrQyxNQUFNbkQsZUFBZTs0QkFBRXFEOzRCQUFRRSxXQUFXLElBQUlsQixPQUFPQyxXQUFXO3dCQUFHLElBQ3hFYSxNQUFNbkQsZUFBZTt3QkFDM0JDLFdBQVc7b0JBQ2I7O1lBQ0YsRUFBRSxPQUFPQyxPQUFPO2dCQUNkTCxJQUFJO29CQUNGSyxPQUFPQSxpQkFBaUI0QixRQUFRNUIsTUFBTXNELE9BQU8sR0FBRztvQkFDaER2RCxXQUFXO2dCQUNiO2dCQUNBLE1BQU1DO1lBQ1I7UUFDRjtRQUVBMEQsb0JBQW9CLENBQUMxQztZQUNuQnJCLElBQUk7Z0JBQUVHLGlCQUFpQmtCO1lBQVE7UUFDakM7UUFFQTJDLFlBQVk7WUFDVmhFLElBQUk7Z0JBQUVLLE9BQU87WUFBSztRQUNwQjtJQUNGLElBQUkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL3N0b3Jlcy9ib29raW5nLXN0b3JlLnRzPzZmZWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSBcInp1c3RhbmRcIjtcclxuaW1wb3J0IHsgQm9va2luZywgQm9va2luZ0Zvcm1EYXRhLCBCb29raW5nU3RhdHVzIH0gZnJvbSBcIkAvdHlwZXNcIjtcclxuaW1wb3J0IHsgbW9ja0Jvb2tpbmdzLCBnZXRWaWxsYUJ5SWQgfSBmcm9tIFwiQC9saWIvbW9jay1kYXRhXCI7XHJcbmltcG9ydCB7IGdlbmVyYXRlQm9va2luZ0lkLCBjYWxjdWxhdGVOaWdodHMsIGNhbGN1bGF0ZVRvdGFsUHJpY2UgfSBmcm9tIFwiQC9saWIvdXRpbHNcIjtcclxuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSBcImRhdGUtZm5zXCI7XHJcblxyXG4vLyBIZWxwZXIgdG8gY2hlY2sgaWYgQVBJIGlzIGF2YWlsYWJsZSAoZW52IHZhcnMgYXJlIHNldClcclxuY29uc3QgaXNBcGlBdmFpbGFibGUgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCI7IC8vIEFsd2F5cyB0cnkgQVBJIGluIGJyb3dzZXJcclxufTtcclxuXHJcbmludGVyZmFjZSBCb29raW5nU3RhdGUge1xyXG4gIGJvb2tpbmdzOiBCb29raW5nW107XHJcbiAgc2VsZWN0ZWRCb29raW5nOiBCb29raW5nIHwgbnVsbDtcclxuICBpc0xvYWRpbmc6IGJvb2xlYW47XHJcbiAgZXJyb3I6IHN0cmluZyB8IG51bGw7XHJcblxyXG4gIC8vIEFjdGlvbnNcclxuICBmZXRjaEJvb2tpbmdzOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG4gIGZldGNoQm9va2luZ0J5SWQ6IChpZDogc3RyaW5nKSA9PiBQcm9taXNlPEJvb2tpbmcgfCBudWxsPjtcclxuICBmZXRjaEJvb2tpbmdzQnlMaW5lVXNlcklkOiAobGluZVVzZXJJZDogc3RyaW5nKSA9PiBQcm9taXNlPEJvb2tpbmdbXT47XHJcbiAgY3JlYXRlQm9va2luZzogKFxyXG4gICAgZGF0YTogQm9va2luZ0Zvcm1EYXRhLFxyXG4gICAgdmlsbGFJZDogc3RyaW5nLFxyXG4gICAgbGluZVVzZXJJZDogc3RyaW5nLFxyXG4gICAgbGluZURpc3BsYXlOYW1lOiBzdHJpbmcsXHJcbiAgICBsaW5lUGljdHVyZVVybD86IHN0cmluZ1xyXG4gICkgPT4gUHJvbWlzZTxCb29raW5nPjtcclxuICB1cGRhdGVCb29raW5nU3RhdHVzOiAoaWQ6IHN0cmluZywgc3RhdHVzOiBCb29raW5nU3RhdHVzKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG4gIHNldFNlbGVjdGVkQm9va2luZzogKGJvb2tpbmc6IEJvb2tpbmcgfCBudWxsKSA9PiB2b2lkO1xyXG4gIGNsZWFyRXJyb3I6ICgpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB1c2VCb29raW5nU3RvcmUgPSBjcmVhdGU8Qm9va2luZ1N0YXRlPigoc2V0LCBnZXQpID0+ICh7XHJcbiAgYm9va2luZ3M6IFtdLFxyXG4gIHNlbGVjdGVkQm9va2luZzogbnVsbCxcclxuICBpc0xvYWRpbmc6IGZhbHNlLFxyXG4gIGVycm9yOiBudWxsLFxyXG5cclxuICBmZXRjaEJvb2tpbmdzOiBhc3luYyAoKSA9PiB7XHJcbiAgICBzZXQoeyBpc0xvYWRpbmc6IHRydWUsIGVycm9yOiBudWxsIH0pO1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKGlzQXBpQXZhaWxhYmxlKCkpIHtcclxuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcIi9hcGkvYm9va2luZ3NcIik7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XHJcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgc2V0KHsgYm9va2luZ3M6IGRhdGEsIGlzTG9hZGluZzogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLy8gRmFsbGJhY2sgdG8gbW9jayBkYXRhXHJcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDMwMCkpO1xyXG4gICAgICBzZXQoeyBib29raW5nczogbW9ja0Jvb2tpbmdzLCBpc0xvYWRpbmc6IGZhbHNlIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkZldGNoIGJvb2tpbmdzIGVycm9yOlwiLCBlcnJvcik7XHJcbiAgICAgIC8vIEZhbGxiYWNrIHRvIG1vY2sgZGF0YSBvbiBlcnJvclxyXG4gICAgICBzZXQoeyBib29raW5nczogbW9ja0Jvb2tpbmdzLCBpc0xvYWRpbmc6IGZhbHNlIH0pO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGZldGNoQm9va2luZ0J5SWQ6IGFzeW5jIChpZDogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXQoeyBpc0xvYWRpbmc6IHRydWUsIGVycm9yOiBudWxsIH0pO1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKGlzQXBpQXZhaWxhYmxlKCkpIHtcclxuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9ib29raW5ncy8ke2lkfWApO1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIGNvbnN0IGJvb2tpbmcgPSBhd2FpdCByZXMuanNvbigpO1xyXG4gICAgICAgICAgaWYgKGJvb2tpbmcuaWQpIHtcclxuICAgICAgICAgICAgc2V0KHsgc2VsZWN0ZWRCb29raW5nOiBib29raW5nLCBpc0xvYWRpbmc6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gYm9va2luZztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLy8gRmFsbGJhY2sgdG8gbW9jayBkYXRhXHJcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDIwMCkpO1xyXG4gICAgICBjb25zdCBib29raW5nID0gbW9ja0Jvb2tpbmdzLmZpbmQoKGIpID0+IGIuaWQgPT09IGlkKSB8fCBudWxsO1xyXG4gICAgICBzZXQoeyBzZWxlY3RlZEJvb2tpbmc6IGJvb2tpbmcsIGlzTG9hZGluZzogZmFsc2UgfSk7XHJcbiAgICAgIHJldHVybiBib29raW5nO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkZldGNoIGJvb2tpbmcgZXJyb3I6XCIsIGVycm9yKTtcclxuICAgICAgY29uc3QgYm9va2luZyA9IG1vY2tCb29raW5ncy5maW5kKChiKSA9PiBiLmlkID09PSBpZCkgfHwgbnVsbDtcclxuICAgICAgc2V0KHsgc2VsZWN0ZWRCb29raW5nOiBib29raW5nLCBpc0xvYWRpbmc6IGZhbHNlIH0pO1xyXG4gICAgICByZXR1cm4gYm9va2luZztcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBmZXRjaEJvb2tpbmdzQnlMaW5lVXNlcklkOiBhc3luYyAobGluZVVzZXJJZDogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXQoeyBpc0xvYWRpbmc6IHRydWUsIGVycm9yOiBudWxsIH0pO1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKGlzQXBpQXZhaWxhYmxlKCkpIHtcclxuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9ib29raW5ncy91c2VyLyR7bGluZVVzZXJJZH1gKTtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XHJcbiAgICAgICAgICAgIHNldCh7IGlzTG9hZGluZzogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAvLyBGYWxsYmFjayB0byBtb2NrIGRhdGFcclxuICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwKSk7XHJcbiAgICAgIGNvbnN0IHVzZXJCb29raW5ncyA9IG1vY2tCb29raW5ncy5maWx0ZXIoKGIpID0+IGIubGluZVVzZXJJZCA9PT0gbGluZVVzZXJJZCk7XHJcbiAgICAgIHNldCh7IGlzTG9hZGluZzogZmFsc2UgfSk7XHJcbiAgICAgIHJldHVybiB1c2VyQm9va2luZ3M7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRmV0Y2ggdXNlciBib29raW5ncyBlcnJvcjpcIiwgZXJyb3IpO1xyXG4gICAgICBjb25zdCB1c2VyQm9va2luZ3MgPSBtb2NrQm9va2luZ3MuZmlsdGVyKChiKSA9PiBiLmxpbmVVc2VySWQgPT09IGxpbmVVc2VySWQpO1xyXG4gICAgICBzZXQoeyBpc0xvYWRpbmc6IGZhbHNlIH0pO1xyXG4gICAgICByZXR1cm4gdXNlckJvb2tpbmdzO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGNyZWF0ZUJvb2tpbmc6IGFzeW5jIChkYXRhLCB2aWxsYUlkLCBsaW5lVXNlcklkLCBsaW5lRGlzcGxheU5hbWUsIGxpbmVQaWN0dXJlVXJsKSA9PiB7XHJcbiAgICBzZXQoeyBpc0xvYWRpbmc6IHRydWUsIGVycm9yOiBudWxsIH0pO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdmlsbGEgPSBnZXRWaWxsYUJ5SWQodmlsbGFJZCk7XHJcbiAgICAgIGlmICghdmlsbGEpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWaWxsYSBub3QgZm91bmRcIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IG5pZ2h0cyA9IGNhbGN1bGF0ZU5pZ2h0cyhkYXRhLmNoZWNrSW4sIGRhdGEuY2hlY2tPdXQpO1xyXG4gICAgICBjb25zdCB0b3RhbFByaWNlID0gY2FsY3VsYXRlVG90YWxQcmljZShuaWdodHMsIHZpbGxhLnByaWNlUGVyTmlnaHQpO1xyXG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcblxyXG4gICAgICBjb25zdCBib29raW5nUGF5bG9hZCA9IHtcclxuICAgICAgICB2aWxsYUlkLFxyXG4gICAgICAgIGd1ZXN0TmFtZTogZGF0YS5ndWVzdE5hbWUsXHJcbiAgICAgICAgZ3Vlc3RQaG9uZTogZGF0YS5ndWVzdFBob25lLFxyXG4gICAgICAgIGd1ZXN0RW1haWw6IGRhdGEuZ3Vlc3RFbWFpbCxcclxuICAgICAgICBjaGVja0luOiBmb3JtYXQoZGF0YS5jaGVja0luLCBcInl5eXktTU0tZGRcIiksXHJcbiAgICAgICAgY2hlY2tPdXQ6IGZvcm1hdChkYXRhLmNoZWNrT3V0LCBcInl5eXktTU0tZGRcIiksXHJcbiAgICAgICAgZ3Vlc3RzOiBkYXRhLmd1ZXN0cyxcclxuICAgICAgICBub3RlczogZGF0YS5ub3RlcyxcclxuICAgICAgICBsaW5lVXNlcklkLFxyXG4gICAgICAgIGxpbmVEaXNwbGF5TmFtZSxcclxuICAgICAgICBsaW5lUGljdHVyZVVybCxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGlmIChpc0FwaUF2YWlsYWJsZSgpKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiL2FwaS9ib29raW5nc1wiLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9va2luZ1BheWxvYWQpLFxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdCb29raW5nID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgc2V0KChzdGF0ZSkgPT4gKHtcclxuICAgICAgICAgICAgICBib29raW5nczogWy4uLnN0YXRlLmJvb2tpbmdzLCBuZXdCb29raW5nXSxcclxuICAgICAgICAgICAgICBzZWxlY3RlZEJvb2tpbmc6IG5ld0Jvb2tpbmcsXHJcbiAgICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3Qm9va2luZztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChhcGlFcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkFQSSBjcmVhdGUgZmFpbGVkLCB1c2luZyBtb2NrOlwiLCBhcGlFcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBGYWxsYmFjayB0byBsb2NhbCBtb2NrIGNyZWF0aW9uXHJcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpO1xyXG5cclxuICAgICAgY29uc3QgbmV3Qm9va2luZzogQm9va2luZyA9IHtcclxuICAgICAgICBpZDogZ2VuZXJhdGVCb29raW5nSWQoKSxcclxuICAgICAgICB2aWxsYUlkLFxyXG4gICAgICAgIGd1ZXN0TmFtZTogZGF0YS5ndWVzdE5hbWUsXHJcbiAgICAgICAgZ3Vlc3RQaG9uZTogZGF0YS5ndWVzdFBob25lLFxyXG4gICAgICAgIGd1ZXN0RW1haWw6IGRhdGEuZ3Vlc3RFbWFpbCxcclxuICAgICAgICBsaW5lVXNlcklkLFxyXG4gICAgICAgIGxpbmVEaXNwbGF5TmFtZSxcclxuICAgICAgICBsaW5lUGljdHVyZVVybCxcclxuICAgICAgICBjaGVja0luOiBmb3JtYXQoZGF0YS5jaGVja0luLCBcInl5eXktTU0tZGRcIiksXHJcbiAgICAgICAgY2hlY2tPdXQ6IGZvcm1hdChkYXRhLmNoZWNrT3V0LCBcInl5eXktTU0tZGRcIiksXHJcbiAgICAgICAgbmlnaHRzLFxyXG4gICAgICAgIGd1ZXN0czogZGF0YS5ndWVzdHMsXHJcbiAgICAgICAgdG90YWxQcmljZSxcclxuICAgICAgICBzdGF0dXM6IFwicGVuZGluZ1wiLFxyXG4gICAgICAgIG5vdGVzOiBkYXRhLm5vdGVzLFxyXG4gICAgICAgIGNyZWF0ZWRBdDogbm93LFxyXG4gICAgICAgIHVwZGF0ZWRBdDogbm93LFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgc2V0KChzdGF0ZSkgPT4gKHtcclxuICAgICAgICBib29raW5nczogWy4uLnN0YXRlLmJvb2tpbmdzLCBuZXdCb29raW5nXSxcclxuICAgICAgICBzZWxlY3RlZEJvb2tpbmc6IG5ld0Jvb2tpbmcsXHJcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcclxuICAgICAgfSkpO1xyXG5cclxuICAgICAgcmV0dXJuIG5ld0Jvb2tpbmc7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBzZXQoe1xyXG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIGNyZWF0ZSBib29raW5nXCIsXHJcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIHVwZGF0ZUJvb2tpbmdTdGF0dXM6IGFzeW5jIChpZDogc3RyaW5nLCBzdGF0dXM6IEJvb2tpbmdTdGF0dXMpID0+IHtcclxuICAgIHNldCh7IGlzTG9hZGluZzogdHJ1ZSwgZXJyb3I6IG51bGwgfSk7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoaXNBcGlBdmFpbGFibGUoKSkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9ib29raW5ncy8ke2lkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzdGF0dXMgfSksXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCByZXMuanNvbigpO1xyXG4gICAgICAgICAgICBzZXQoKHN0YXRlKSA9PiAoe1xyXG4gICAgICAgICAgICAgIGJvb2tpbmdzOiBzdGF0ZS5ib29raW5ncy5tYXAoKGIpID0+IChiLmlkID09PSBpZCA/IHVwZGF0ZWQgOiBiKSksXHJcbiAgICAgICAgICAgICAgc2VsZWN0ZWRCb29raW5nOlxyXG4gICAgICAgICAgICAgICAgc3RhdGUuc2VsZWN0ZWRCb29raW5nPy5pZCA9PT0gaWQgPyB1cGRhdGVkIDogc3RhdGUuc2VsZWN0ZWRCb29raW5nLFxyXG4gICAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGFwaUVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQVBJIHVwZGF0ZSBmYWlsZWQsIHVzaW5nIG1vY2s6XCIsIGFwaUVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEZhbGxiYWNrIHRvIGxvY2FsIG1vY2sgdXBkYXRlXHJcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDMwMCkpO1xyXG5cclxuICAgICAgc2V0KChzdGF0ZSkgPT4gKHtcclxuICAgICAgICBib29raW5nczogc3RhdGUuYm9va2luZ3MubWFwKChiKSA9PlxyXG4gICAgICAgICAgYi5pZCA9PT0gaWRcclxuICAgICAgICAgICAgPyB7IC4uLmIsIHN0YXR1cywgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfVxyXG4gICAgICAgICAgICA6IGJcclxuICAgICAgICApLFxyXG4gICAgICAgIHNlbGVjdGVkQm9va2luZzpcclxuICAgICAgICAgIHN0YXRlLnNlbGVjdGVkQm9va2luZz8uaWQgPT09IGlkXHJcbiAgICAgICAgICAgID8geyAuLi5zdGF0ZS5zZWxlY3RlZEJvb2tpbmcsIHN0YXR1cywgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfVxyXG4gICAgICAgICAgICA6IHN0YXRlLnNlbGVjdGVkQm9va2luZyxcclxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxyXG4gICAgICB9KSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBzZXQoe1xyXG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIHVwZGF0ZSBib29raW5nXCIsXHJcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIHNldFNlbGVjdGVkQm9va2luZzogKGJvb2tpbmcpID0+IHtcclxuICAgIHNldCh7IHNlbGVjdGVkQm9va2luZzogYm9va2luZyB9KTtcclxuICB9LFxyXG5cclxuICBjbGVhckVycm9yOiAoKSA9PiB7XHJcbiAgICBzZXQoeyBlcnJvcjogbnVsbCB9KTtcclxuICB9LFxyXG59KSk7XHJcbiJdLCJuYW1lcyI6WyJjcmVhdGUiLCJtb2NrQm9va2luZ3MiLCJnZXRWaWxsYUJ5SWQiLCJnZW5lcmF0ZUJvb2tpbmdJZCIsImNhbGN1bGF0ZU5pZ2h0cyIsImNhbGN1bGF0ZVRvdGFsUHJpY2UiLCJmb3JtYXQiLCJpc0FwaUF2YWlsYWJsZSIsInVzZUJvb2tpbmdTdG9yZSIsInNldCIsImdldCIsImJvb2tpbmdzIiwic2VsZWN0ZWRCb29raW5nIiwiaXNMb2FkaW5nIiwiZXJyb3IiLCJmZXRjaEJvb2tpbmdzIiwicmVzIiwiZmV0Y2giLCJvayIsImRhdGEiLCJqc29uIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiY29uc29sZSIsImZldGNoQm9va2luZ0J5SWQiLCJpZCIsImJvb2tpbmciLCJmaW5kIiwiYiIsImZldGNoQm9va2luZ3NCeUxpbmVVc2VySWQiLCJsaW5lVXNlcklkIiwidXNlckJvb2tpbmdzIiwiZmlsdGVyIiwiY3JlYXRlQm9va2luZyIsInZpbGxhSWQiLCJsaW5lRGlzcGxheU5hbWUiLCJsaW5lUGljdHVyZVVybCIsInZpbGxhIiwiRXJyb3IiLCJuaWdodHMiLCJjaGVja0luIiwiY2hlY2tPdXQiLCJ0b3RhbFByaWNlIiwicHJpY2VQZXJOaWdodCIsIm5vdyIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImJvb2tpbmdQYXlsb2FkIiwiZ3Vlc3ROYW1lIiwiZ3Vlc3RQaG9uZSIsImd1ZXN0RW1haWwiLCJndWVzdHMiLCJub3RlcyIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm5ld0Jvb2tpbmciLCJzdGF0ZSIsImFwaUVycm9yIiwic3RhdHVzIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwibWVzc2FnZSIsInVwZGF0ZUJvb2tpbmdTdGF0dXMiLCJ1cGRhdGVkIiwibWFwIiwic2V0U2VsZWN0ZWRCb29raW5nIiwiY2xlYXJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/stores/booking-store.ts\n"));

/***/ })

});